{"stream_plugins":{"limit-conn":{"priority":1003,"schema":{"required":["conn","burst","default_conn_delay","key"],"type":"object","properties":{"burst":{"minimum":0,"type":"integer"},"key_type":{"enum":["var","var_combination"],"default":"var","type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"conn":{"exclusiveMinimum":0,"type":"integer"},"only_use_default_delay":{"default":false,"type":"boolean"},"key":{"type":"string"},"default_conn_delay":{"exclusiveMinimum":0,"type":"number"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"mqtt-proxy":{"priority":1000,"schema":{"required":["protocol_name","protocol_level"],"type":"object","properties":{"protocol_name":{"type":"string"},"protocol_level":{"type":"integer"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"syslog":{"priority":401,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"required":["host","port"],"type":"object","properties":{"drop_limit":{"default":1048576,"type":"integer"},"sock_type":{"type":"string","default":"tcp","enum":["tcp","udp"]},"log_format":{"type":"object"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"name":{"default":"stream sys logger","type":"string"},"pool_size":{"type":"integer","default":5,"minimum":5},"timeout":{"type":"integer","default":3000,"minimum":1},"tls":{"default":false,"type":"boolean"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"port":{"type":"integer"},"flush_limit":{"type":"integer","default":4096,"minimum":1},"host":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"}},"ip-restriction":{"priority":3000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"blacklist":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]}},"whitelist":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]}},"message":{"maxLength":1024,"type":"string","default":"Your IP address is not allowed","minLength":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"oneOf":[{"required":["whitelist"]},{"required":["blacklist"]}]},"version":0.1}},"main":{"consumer":{"required":["username"],"type":"object","properties":{"username":{"maxLength":100,"type":"string","pattern":"^[a-zA-Z0-9_]+$","minLength":1},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"desc":{"maxLength":256,"type":"string"},"group_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"update_time":{"type":"integer"},"create_time":{"type":"integer"},"plugins":{"type":"object"}}},"ssl":{"then":{"oneOf":[{"required":["sni","key","cert"]},{"required":["snis","key","cert"]}]},"else":{"required":["key","cert"]},"type":"object","properties":{"validity_start":{"type":"integer"},"sni":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"update_time":{"type":"integer"},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"client":{"required":["ca"],"type":"object","properties":{"depth":{"type":"integer","default":1,"minimum":0},"ca":{"maxLength":65536,"type":"string","minLength":128}}},"key":{"maxLength":65536,"type":"string","minLength":128},"status":{"enum":[1,0],"type":"integer","default":1,"description":"ssl status, 1 to enable, 0 to disable"},"validity_end":{"type":"integer"},"create_time":{"type":"integer"},"exptime":{"minimum":1588262400,"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"snis":{"minItems":1,"type":"array","items":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"keys":{"items":{"maxLength":65536,"type":"string","minLength":128},"type":"array"},"type":{"enum":["server","client"],"type":"string","default":"server","description":"ssl certificate type, server to server certificate, client to client certificate for upstream"},"certs":{"items":{"maxLength":65536,"type":"string","minLength":128},"type":"array"},"cert":{"maxLength":65536,"type":"string","minLength":128}},"if":{"properties":{"type":{"enum":["server"]}}}},"upstream_hash_vars_schema":{"pattern":"^((uri|server_name|server_addr|request_uri|remote_port|remote_addr|query_string|host|hostname)|arg_[0-9a-zA-z_-]+)$","type":"string"},"route":{"anyOf":[{"required":["plugins","uri"]},{"required":["upstream","uri"]},{"required":["upstream_id","uri"]},{"required":["service_id","uri"]},{"required":["plugins","uris"]},{"required":["upstream","uris"]},{"required":["upstream_id","uris"]},{"required":["service_id","uris"]},{"required":["script","uri"]},{"required":["script","uris"]}],"not":{"anyOf":[{"required":["script","plugins"]},{"required":["script","plugin_config_id"]}]},"type":"object","properties":{"priority":{"default":0,"type":"integer"},"remote_addrs":{"minItems":1,"type":"array","items":{"type":"string","description":"client IP","anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]},"uniqueItems":true},"filter_func":{"pattern":"^function","type":"string","minLength":10},"vars":{"type":"array"},"script_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"uri":{"maxLength":4096,"type":"string","minLength":1},"remote_addr":{"type":"string","description":"client IP","anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]},"script":{"maxLength":102400,"type":"string","minLength":10},"status":{"enum":[1,0],"type":"integer","default":1,"description":"route status, 1 to enable, 0 to disable"},"name":{"maxLength":100,"type":"string","minLength":1},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"enable_websocket":{"type":"boolean","description":"enable websocket for request"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"desc":{"maxLength":256,"type":"string"},"service_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"plugins":{"type":"object"},"timeout":{"required":["connect","send","read"],"type":"object","properties":{"send":{"exclusiveMinimum":0,"type":"number"},"read":{"exclusiveMinimum":0,"type":"number"},"connect":{"exclusiveMinimum":0,"type":"number"}}},"upstream":{"type":"object","properties":{"hash_on":{"type":"string","default":"vars","enum":["vars","header","cookie","consumer","vars_combinations"]},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"checks":{"type":"object","properties":{"active":{"properties":{"timeout":{"default":1,"type":"number"},"http_path":{"default":"/","type":"string"},"https_verify_certificate":{"default":true,"type":"boolean"},"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,302]},"interval":{"type":"integer","default":1,"minimum":1},"successes":{"maximum":254,"type":"integer","default":2,"minimum":1}},"type":"object"},"req_headers":{"minItems":1,"type":"array","items":{"uniqueItems":true,"type":"string"}},"concurrency":{"default":10,"type":"integer"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"},"port":{"maximum":65535,"type":"integer","minimum":1},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,404,500,501,502,503,504,505]},"interval":{"type":"integer","default":1,"minimum":1},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":1},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":1},"timeouts":{"maximum":254,"type":"integer","default":3,"minimum":1}},"type":"object"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"type":"object"},"passive":{"properties":{"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]},"successes":{"maximum":254,"type":"integer","default":5,"minimum":0}},"type":"object"},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,500,503]},"timeouts":{"maximum":254,"type":"integer","default":7,"minimum":0},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":0},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":0}},"type":"object"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"}},"type":"object"}},"anyOf":[{"required":["active"]},{"required":["active","passive"]}]},"upstream_host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"tls":{"type":"object","properties":{"client_cert_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"client_cert":{"maxLength":65536,"type":"string","minLength":128},"client_key":{"maxLength":65536,"type":"string","minLength":128},"verify":{"description":"Turn on server certificate verification, currently only kafka upstream is supported","default":false,"type":"boolean"}},"dependencies":{"client_cert_id":{"not":{"required":["client_client","client_key"]}},"client_cert":{"required":["client_key"],"not":{"required":["client_cert_id"]}},"client_key":{"required":["client_cert"],"not":{"required":["client_cert_id"]}}}},"discovery_type":{"type":"string","description":"discovery type"},"discovery_args":{"properties":{"namespace_id":{"type":"string","description":"namespace id"},"group_name":{"type":"string","description":"group name"}},"type":"object"},"keepalive_pool":{"properties":{"size":{"type":"integer","default":320,"minimum":1},"idle_timeout":{"type":"number","default":60,"minimum":0},"requests":{"type":"integer","default":1000,"minimum":1}},"type":"object"},"name":{"maxLength":100,"type":"string","minLength":1},"desc":{"maxLength":256,"type":"string"},"type":{"type":"string","default":"roundrobin","description":"algorithms of load balancing"},"key":{"type":"string","description":"the key of chash for dynamic load balancing"},"timeout":{"required":["connect","send","read"],"type":"object","properties":{"send":{"exclusiveMinimum":0,"type":"number"},"read":{"exclusiveMinimum":0,"type":"number"},"connect":{"exclusiveMinimum":0,"type":"number"}}},"pass_host":{"enum":["pass","node","rewrite"],"type":"string","default":"pass","description":"mod of host passing"},"create_time":{"type":"integer"},"retries":{"minimum":0,"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"retry_timeout":{"minimum":0,"type":"number"},"service_name":{"maxLength":256,"type":"string","minLength":1},"scheme":{"enum":["grpc","grpcs","http","https","tcp","tls","udp","kafka"],"default":"http","description":"The scheme of the upstream. For L7 proxy, it can be one of grpc/grpcs/http/https. For L4 proxy, it can be one of tcp/tls/udp. For specific protocols, it can be kafka."},"nodes":{"anyOf":[{"patternProperties":{".*":{"type":"integer","description":"weight of node","minimum":0}},"type":"object"},{"items":{"required":["host","port","weight"],"type":"object","properties":{"priority":{"type":"integer","default":0,"description":"priority of node"},"weight":{"type":"integer","description":"weight of node","minimum":0},"port":{"type":"integer","description":"port of node","minimum":1},"metadata":{"type":"object","description":"metadata of node"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"type":"array"}]},"update_time":{"type":"integer"}},"oneOf":[{"required":["nodes"]},{"required":["service_name","discovery_type"]}]},"create_time":{"type":"integer"},"plugin_config_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"uris":{"minItems":1,"type":"array","items":{"type":"string","description":"HTTP uri"},"uniqueItems":true},"methods":{"type":"array","items":{"type":"string","enum":["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","CONNECT","TRACE","PURGE"],"description":"HTTP method"},"uniqueItems":true},"upstream_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"hosts":{"minItems":1,"type":"array","items":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"uniqueItems":true},"update_time":{"type":"integer"}},"allOf":[{"oneOf":[{"required":["uri"]},{"required":["uris"]}]},{"oneOf":[{"not":{"anyOf":[{"required":["host"]},{"required":["hosts"]}]}},{"required":["host"]},{"required":["hosts"]}]},{"oneOf":[{"not":{"anyOf":[{"required":["remote_addr"]},{"required":["remote_addrs"]}]}},{"required":["remote_addr"]},{"required":["remote_addrs"]}]}]},"service":{"type":"object","properties":{"hosts":{"minItems":1,"type":"array","items":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"uniqueItems":true},"desc":{"maxLength":256,"type":"string"},"plugins":{"type":"object"},"upstream":{"type":"object","properties":{"hash_on":{"type":"string","default":"vars","enum":["vars","header","cookie","consumer","vars_combinations"]},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"checks":{"type":"object","properties":{"active":{"properties":{"timeout":{"default":1,"type":"number"},"http_path":{"default":"/","type":"string"},"https_verify_certificate":{"default":true,"type":"boolean"},"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,302]},"interval":{"type":"integer","default":1,"minimum":1},"successes":{"maximum":254,"type":"integer","default":2,"minimum":1}},"type":"object"},"req_headers":{"minItems":1,"type":"array","items":{"uniqueItems":true,"type":"string"}},"concurrency":{"default":10,"type":"integer"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"},"port":{"maximum":65535,"type":"integer","minimum":1},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,404,500,501,502,503,504,505]},"interval":{"type":"integer","default":1,"minimum":1},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":1},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":1},"timeouts":{"maximum":254,"type":"integer","default":3,"minimum":1}},"type":"object"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"type":"object"},"passive":{"properties":{"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]},"successes":{"maximum":254,"type":"integer","default":5,"minimum":0}},"type":"object"},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,500,503]},"timeouts":{"maximum":254,"type":"integer","default":7,"minimum":0},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":0},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":0}},"type":"object"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"}},"type":"object"}},"anyOf":[{"required":["active"]},{"required":["active","passive"]}]},"upstream_host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"tls":{"type":"object","properties":{"client_cert_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"client_cert":{"maxLength":65536,"type":"string","minLength":128},"client_key":{"maxLength":65536,"type":"string","minLength":128},"verify":{"description":"Turn on server certificate verification, currently only kafka upstream is supported","default":false,"type":"boolean"}},"dependencies":{"client_cert_id":{"not":{"required":["client_client","client_key"]}},"client_cert":{"required":["client_key"],"not":{"required":["client_cert_id"]}},"client_key":{"required":["client_cert"],"not":{"required":["client_cert_id"]}}}},"discovery_type":{"type":"string","description":"discovery type"},"discovery_args":{"properties":{"namespace_id":{"type":"string","description":"namespace id"},"group_name":{"type":"string","description":"group name"}},"type":"object"},"keepalive_pool":{"properties":{"size":{"type":"integer","default":320,"minimum":1},"idle_timeout":{"type":"number","default":60,"minimum":0},"requests":{"type":"integer","default":1000,"minimum":1}},"type":"object"},"name":{"maxLength":100,"type":"string","minLength":1},"desc":{"maxLength":256,"type":"string"},"type":{"type":"string","default":"roundrobin","description":"algorithms of load balancing"},"key":{"type":"string","description":"the key of chash for dynamic load balancing"},"timeout":{"required":["connect","send","read"],"type":"object","properties":{"send":{"exclusiveMinimum":0,"type":"number"},"read":{"exclusiveMinimum":0,"type":"number"},"connect":{"exclusiveMinimum":0,"type":"number"}}},"pass_host":{"enum":["pass","node","rewrite"],"type":"string","default":"pass","description":"mod of host passing"},"create_time":{"type":"integer"},"retries":{"minimum":0,"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"retry_timeout":{"minimum":0,"type":"number"},"service_name":{"maxLength":256,"type":"string","minLength":1},"scheme":{"enum":["grpc","grpcs","http","https","tcp","tls","udp","kafka"],"default":"http","description":"The scheme of the upstream. For L7 proxy, it can be one of grpc/grpcs/http/https. For L4 proxy, it can be one of tcp/tls/udp. For specific protocols, it can be kafka."},"nodes":{"anyOf":[{"patternProperties":{".*":{"type":"integer","description":"weight of node","minimum":0}},"type":"object"},{"items":{"required":["host","port","weight"],"type":"object","properties":{"priority":{"type":"integer","default":0,"description":"priority of node"},"weight":{"type":"integer","description":"weight of node","minimum":0},"port":{"type":"integer","description":"port of node","minimum":1},"metadata":{"type":"object","description":"metadata of node"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"type":"array"}]},"update_time":{"type":"integer"}},"oneOf":[{"required":["nodes"]},{"required":["service_name","discovery_type"]}]},"create_time":{"type":"integer"},"update_time":{"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"enable_websocket":{"type":"boolean","description":"enable websocket for request"},"upstream_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"script":{"maxLength":102400,"type":"string","minLength":10},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"name":{"maxLength":100,"type":"string","minLength":1}}},"proto":{"required":["content"],"type":"object","properties":{"create_time":{"type":"integer"},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"content":{"maxLength":1048576,"type":"string","minLength":1},"desc":{"maxLength":256,"type":"string"},"update_time":{"type":"integer"}}},"upstream_hash_header_schema":{"pattern":"^[a-zA-Z0-9-_]+$","type":"string"},"upstream":{"type":"object","properties":{"hash_on":{"type":"string","default":"vars","enum":["vars","header","cookie","consumer","vars_combinations"]},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"checks":{"type":"object","properties":{"active":{"properties":{"timeout":{"default":1,"type":"number"},"http_path":{"default":"/","type":"string"},"https_verify_certificate":{"default":true,"type":"boolean"},"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,302]},"interval":{"type":"integer","default":1,"minimum":1},"successes":{"maximum":254,"type":"integer","default":2,"minimum":1}},"type":"object"},"req_headers":{"minItems":1,"type":"array","items":{"uniqueItems":true,"type":"string"}},"concurrency":{"default":10,"type":"integer"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"},"port":{"maximum":65535,"type":"integer","minimum":1},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,404,500,501,502,503,504,505]},"interval":{"type":"integer","default":1,"minimum":1},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":1},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":1},"timeouts":{"maximum":254,"type":"integer","default":3,"minimum":1}},"type":"object"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"type":"object"},"passive":{"properties":{"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]},"successes":{"maximum":254,"type":"integer","default":5,"minimum":0}},"type":"object"},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,500,503]},"timeouts":{"maximum":254,"type":"integer","default":7,"minimum":0},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":0},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":0}},"type":"object"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"}},"type":"object"}},"anyOf":[{"required":["active"]},{"required":["active","passive"]}]},"upstream_host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"tls":{"type":"object","properties":{"client_cert_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"client_cert":{"maxLength":65536,"type":"string","minLength":128},"client_key":{"maxLength":65536,"type":"string","minLength":128},"verify":{"description":"Turn on server certificate verification, currently only kafka upstream is supported","default":false,"type":"boolean"}},"dependencies":{"client_cert_id":{"not":{"required":["client_client","client_key"]}},"client_cert":{"required":["client_key"],"not":{"required":["client_cert_id"]}},"client_key":{"required":["client_cert"],"not":{"required":["client_cert_id"]}}}},"discovery_type":{"type":"string","description":"discovery type"},"discovery_args":{"properties":{"namespace_id":{"type":"string","description":"namespace id"},"group_name":{"type":"string","description":"group name"}},"type":"object"},"keepalive_pool":{"properties":{"size":{"type":"integer","default":320,"minimum":1},"idle_timeout":{"type":"number","default":60,"minimum":0},"requests":{"type":"integer","default":1000,"minimum":1}},"type":"object"},"name":{"maxLength":100,"type":"string","minLength":1},"desc":{"maxLength":256,"type":"string"},"type":{"type":"string","default":"roundrobin","description":"algorithms of load balancing"},"key":{"type":"string","description":"the key of chash for dynamic load balancing"},"timeout":{"required":["connect","send","read"],"type":"object","properties":{"send":{"exclusiveMinimum":0,"type":"number"},"read":{"exclusiveMinimum":0,"type":"number"},"connect":{"exclusiveMinimum":0,"type":"number"}}},"pass_host":{"enum":["pass","node","rewrite"],"type":"string","default":"pass","description":"mod of host passing"},"create_time":{"type":"integer"},"retries":{"minimum":0,"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"retry_timeout":{"minimum":0,"type":"number"},"service_name":{"maxLength":256,"type":"string","minLength":1},"scheme":{"enum":["grpc","grpcs","http","https","tcp","tls","udp","kafka"],"default":"http","description":"The scheme of the upstream. For L7 proxy, it can be one of grpc/grpcs/http/https. For L4 proxy, it can be one of tcp/tls/udp. For specific protocols, it can be kafka."},"nodes":{"anyOf":[{"patternProperties":{".*":{"type":"integer","description":"weight of node","minimum":0}},"type":"object"},{"items":{"required":["host","port","weight"],"type":"object","properties":{"priority":{"type":"integer","default":0,"description":"priority of node"},"weight":{"type":"integer","description":"weight of node","minimum":0},"port":{"type":"integer","description":"port of node","minimum":1},"metadata":{"type":"object","description":"metadata of node"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"type":"array"}]},"update_time":{"type":"integer"}},"oneOf":[{"required":["nodes"]},{"required":["service_name","discovery_type"]}]},"stream_route":{"properties":{"sni":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string","description":"server name indication"},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"remote_addr":{"type":"string","description":"client IP","anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]},"upstream":{"type":"object","properties":{"hash_on":{"type":"string","default":"vars","enum":["vars","header","cookie","consumer","vars_combinations"]},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"checks":{"type":"object","properties":{"active":{"properties":{"timeout":{"default":1,"type":"number"},"http_path":{"default":"/","type":"string"},"https_verify_certificate":{"default":true,"type":"boolean"},"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,302]},"interval":{"type":"integer","default":1,"minimum":1},"successes":{"maximum":254,"type":"integer","default":2,"minimum":1}},"type":"object"},"req_headers":{"minItems":1,"type":"array","items":{"uniqueItems":true,"type":"string"}},"concurrency":{"default":10,"type":"integer"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"},"port":{"maximum":65535,"type":"integer","minimum":1},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,404,500,501,502,503,504,505]},"interval":{"type":"integer","default":1,"minimum":1},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":1},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":1},"timeouts":{"maximum":254,"type":"integer","default":3,"minimum":1}},"type":"object"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"type":"object"},"passive":{"properties":{"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]},"successes":{"maximum":254,"type":"integer","default":5,"minimum":0}},"type":"object"},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,500,503]},"timeouts":{"maximum":254,"type":"integer","default":7,"minimum":0},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":0},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":0}},"type":"object"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"}},"type":"object"}},"anyOf":[{"required":["active"]},{"required":["active","passive"]}]},"upstream_host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"tls":{"type":"object","properties":{"client_cert_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"client_cert":{"maxLength":65536,"type":"string","minLength":128},"client_key":{"maxLength":65536,"type":"string","minLength":128},"verify":{"description":"Turn on server certificate verification, currently only kafka upstream is supported","default":false,"type":"boolean"}},"dependencies":{"client_cert_id":{"not":{"required":["client_client","client_key"]}},"client_cert":{"required":["client_key"],"not":{"required":["client_cert_id"]}},"client_key":{"required":["client_cert"],"not":{"required":["client_cert_id"]}}}},"discovery_type":{"type":"string","description":"discovery type"},"discovery_args":{"properties":{"namespace_id":{"type":"string","description":"namespace id"},"group_name":{"type":"string","description":"group name"}},"type":"object"},"keepalive_pool":{"properties":{"size":{"type":"integer","default":320,"minimum":1},"idle_timeout":{"type":"number","default":60,"minimum":0},"requests":{"type":"integer","default":1000,"minimum":1}},"type":"object"},"name":{"maxLength":100,"type":"string","minLength":1},"desc":{"maxLength":256,"type":"string"},"type":{"type":"string","default":"roundrobin","description":"algorithms of load balancing"},"key":{"type":"string","description":"the key of chash for dynamic load balancing"},"timeout":{"required":["connect","send","read"],"type":"object","properties":{"send":{"exclusiveMinimum":0,"type":"number"},"read":{"exclusiveMinimum":0,"type":"number"},"connect":{"exclusiveMinimum":0,"type":"number"}}},"pass_host":{"enum":["pass","node","rewrite"],"type":"string","default":"pass","description":"mod of host passing"},"create_time":{"type":"integer"},"retries":{"minimum":0,"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"retry_timeout":{"minimum":0,"type":"number"},"service_name":{"maxLength":256,"type":"string","minLength":1},"scheme":{"enum":["grpc","grpcs","http","https","tcp","tls","udp","kafka"],"default":"http","description":"The scheme of the upstream. For L7 proxy, it can be one of grpc/grpcs/http/https. For L4 proxy, it can be one of tcp/tls/udp. For specific protocols, it can be kafka."},"nodes":{"anyOf":[{"patternProperties":{".*":{"type":"integer","description":"weight of node","minimum":0}},"type":"object"},{"items":{"required":["host","port","weight"],"type":"object","properties":{"priority":{"type":"integer","default":0,"description":"priority of node"},"weight":{"type":"integer","description":"weight of node","minimum":0},"port":{"type":"integer","description":"port of node","minimum":1},"metadata":{"type":"object","description":"metadata of node"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"type":"array"}]},"update_time":{"type":"integer"}},"oneOf":[{"required":["nodes"]},{"required":["service_name","discovery_type"]}]},"create_time":{"type":"integer"},"server_addr":{"type":"string","description":"server IP","anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]},"protocol":{"required":["name"],"type":"object","properties":{"logger":{"items":{"properties":{"filter":{"type":"array","description":"logger filter rules"},"conf":{"type":"object","description":"logger plugin configuration"},"name":{"type":"string"}},"dependencies":{"name":["conf"]}},"type":"array"},"conf":{"type":"object","description":"protocol-specific configuration"},"name":{"type":"string"},"superior_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]}}},"plugins":{"type":"object"},"upstream_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"server_port":{"type":"integer","description":"server port"},"desc":{"maxLength":256,"type":"string"},"update_time":{"type":"integer"}},"type":"object"},"global_rule":{"required":["plugins"],"type":"object","properties":{"create_time":{"type":"integer"},"update_time":{"type":"integer"},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"plugins":{"type":"object"}}},"plugin_config":{"required":["id","plugins"],"type":"object","properties":{"create_time":{"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"update_time":{"type":"integer"},"desc":{"maxLength":256,"type":"string"},"plugins":{"type":"object"}}},"consumer_group":{"required":["id","plugins"],"type":"object","properties":{"create_time":{"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"update_time":{"type":"integer"},"desc":{"maxLength":256,"type":"string"},"plugins":{"type":"object"}}},"plugins":{"items":{"required":["name"],"type":"object","properties":{"stream":{"type":"boolean"},"name":{"minLength":1,"type":"string"}}},"type":"array"}},"plugins":{"opa":{"priority":2001,"schema":{"required":["host","policy"],"type":"object","properties":{"with_route":{"default":false,"type":"boolean"},"with_service":{"default":false,"type":"boolean"},"with_consumer":{"default":false,"type":"boolean"},"timeout":{"minimum":1,"maximum":60000,"type":"integer","default":3000,"description":"timeout in milliseconds"},"ssl_verify":{"default":true,"type":"boolean"},"keepalive":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"policy":{"type":"string"},"keepalive_pool":{"type":"integer","default":5,"minimum":1},"host":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"serverless-pre-function":{"priority":10000,"version":0.1,"schema":{"required":["functions"],"type":"object","properties":{"phase":{"type":"string","default":"access","enum":["rewrite","access","header_filter","body_filter","log","before_proxy"]},"functions":{"minItems":1,"type":"array","items":{"type":"string"}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"$comment":"this is a mark for our injected plugin schema"}},"datadog":{"priority":495,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"prefer_name":{"default":true,"type":"boolean"},"name":{"default":"datadog","type":"string"}}},"metadata_schema":{"properties":{"constant_tags":{"type":"array","items":{"type":"string"},"default":["source:apisix"]},"port":{"type":"integer","default":8125,"minimum":0},"namespace":{"default":"apisix","type":"string"},"host":{"default":"127.0.0.1","type":"string"}},"type":"object"},"version":0.1},"sls-logger":{"priority":406,"schema":{"required":["host","port","project","logstore","access_key_id","access_key_secret"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"name":{"default":"sls-logger","type":"string"},"log_format":{"type":"object"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"buffer_duration":{"type":"integer","default":60,"minimum":1},"include_req_body":{"default":false,"type":"boolean"},"timeout":{"type":"integer","default":5000,"minimum":1},"retry_delay":{"type":"integer","default":1,"minimum":0},"max_retry_count":{"type":"integer","default":0,"minimum":0},"project":{"type":"string"},"logstore":{"type":"string"},"access_key_id":{"type":"string"},"access_key_secret":{"type":"string"},"port":{"type":"integer"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"host":{"type":"string"}},"encrypt_fields":["access_key_secret"]},"version":0.1},"server-info":{"priority":990,"version":0.1,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"scope":"global"},"ext-plugin-pre-req":{"priority":12000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"allow_degradation":{"default":false,"type":"boolean"},"conf":{"minItems":1,"type":"array","items":{"required":["name","value"],"type":"object","properties":{"value":{"type":"string"},"name":{"maxLength":128,"type":"string","minLength":1}}}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"proxy-cache":{"priority":1009,"version":0.2,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"cache_http_status":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","description":"http response status","minimum":200},"minItems":1,"type":"array","default":[200,301,404]},"cache_method":{"uniqueItems":true,"items":{"type":"string","enum":["GET","POST","HEAD"],"description":"supported http method"},"minItems":1,"type":"array","default":["GET","HEAD"]},"hide_cache_headers":{"default":false,"type":"boolean"},"cache_control":{"default":false,"type":"boolean"},"cache_bypass":{"minItems":1,"type":"array","items":{"pattern":"(^[^\\$].+$|^\\$[0-9a-zA-Z_]+$)","type":"string"}},"no_cache":{"minItems":1,"type":"array","items":{"pattern":"(^[^\\$].+$|^\\$[0-9a-zA-Z_]+$)","type":"string"}},"cache_ttl":{"type":"integer","default":300,"minimum":1},"cache_zone":{"maxLength":100,"type":"string","default":"disk_cache_one","minLength":1},"cache_strategy":{"enum":["disk","memory"],"default":"disk","type":"string"},"cache_key":{"minItems":1,"type":"array","items":{"pattern":"(^[^\\$].+$|^\\$[0-9a-zA-Z_]+$)","type":"string","description":"a key for caching"},"default":["$host","$request_uri"]},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}}},"fault-injection":{"priority":11000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"abort":{"required":["http_status"],"type":"object","properties":{"http_status":{"minimum":200,"type":"integer"},"body":{"minLength":0,"type":"string"},"percentage":{"maximum":100,"type":"integer","minimum":0},"vars":{"maxItems":20,"type":"array","items":{"type":"array"}}}},"delay":{"required":["duration"],"type":"object","properties":{"vars":{"maxItems":20,"type":"array","items":{"type":"array"}},"percentage":{"maximum":100,"type":"integer","minimum":0},"duration":{"minimum":0,"type":"number"}}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"minProperties":1},"version":0.1},"client-control":{"priority":22000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"max_body_size":{"minimum":0,"type":"integer"}}},"version":0.1},"tcp-logger":{"priority":405,"schema":{"required":["host","port"],"type":"object","properties":{"tls_options":{"type":"string"},"log_format":{"type":"object"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"timeout":{"type":"integer","default":1000,"minimum":1},"tls":{"default":false,"type":"boolean"},"name":{"default":"tcp logger","type":"string"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"port":{"minimum":0,"type":"integer"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"host":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"version":0.1},"kafka-proxy":{"priority":508,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"sasl":{"required":["username","password"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}},"encrypt_fields":["sasl.password"]},"version":0.1},"authz-keycloak":{"priority":2000,"schema":{"required":["client_id"],"$comment":"this is a mark for our injected plugin schema","encrypt_fields":["client_secret"],"type":"object","properties":{"ssl_verify":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"resource_registration_endpoint":{"maxLength":4096,"type":"string","minLength":1},"access_token_expires_in":{"type":"integer","default":300,"minimum":1},"token_endpoint":{"maxLength":4096,"type":"string","minLength":1},"keepalive_pool":{"type":"integer","default":5,"minimum":1},"client_secret":{"maxLength":100,"type":"string","minLength":1},"grant_type":{"maxLength":100,"enum":["urn:ietf:params:oauth:grant-type:uma-ticket"],"type":"string","default":"urn:ietf:params:oauth:grant-type:uma-ticket","minLength":1},"refresh_token_expires_in":{"type":"integer","default":3600,"minimum":1},"policy_enforcement_mode":{"enum":["ENFORCING","PERMISSIVE"],"default":"ENFORCING","type":"string"},"client_id":{"maxLength":100,"type":"string","minLength":1},"discovery":{"maxLength":4096,"type":"string","minLength":1},"permissions":{"default":{},"type":"array","items":{"maxLength":100,"type":"string","minLength":1},"uniqueItems":true},"lazy_load_paths":{"default":false,"type":"boolean"},"http_method_as_scope":{"default":false,"type":"boolean"},"cache_ttl_seconds":{"type":"integer","default":86400,"minimum":1},"access_denied_redirect_uri":{"maxLength":2048,"type":"string","minLength":1},"keepalive":{"default":true,"type":"boolean"},"access_token_expires_leeway":{"type":"integer","default":0,"minimum":0},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"refresh_token_expires_leeway":{"type":"integer","default":0,"minimum":0},"password_grant_token_generation_incoming_uri":{"maxLength":4096,"type":"string","minLength":1},"timeout":{"type":"integer","default":3000,"minimum":1000}},"allOf":[{"anyOf":[{"required":["discovery"]},{"required":["token_endpoint"]}]},{"anyOf":[{"properties":{"lazy_load_paths":{"enum":[false]}}},{"properties":{"lazy_load_paths":{"enum":[true]}},"anyOf":[{"required":["discovery"]},{"required":["resource_registration_endpoint"]}]}]}]},"version":0.1},"ext-plugin-post-req":{"priority":-3000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"allow_degradation":{"default":false,"type":"boolean"},"conf":{"minItems":1,"type":"array","items":{"required":["name","value"],"type":"object","properties":{"value":{"type":"string"},"name":{"maxLength":128,"type":"string","minLength":1}}}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"public-api":{"priority":501,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"uri":{"type":"string"}}},"version":0.1},"fs-multi-auth":{"priority":2600,"schema":{"required":["auth_plugins"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"auth_plugins":{"minItems":2,"type":"array"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"title":"work with route or service object"},"version":0.1,"type":"auth"},"csrf":{"priority":2980,"schema":{"required":["key"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"expires":{"type":"integer","default":7200,"description":"expires time(s) for csrf token"},"key":{"type":"string","description":"use to generate csrf token"},"name":{"type":"string","default":"apisix-csrf-token","description":"the csrf token name"}},"encrypt_fields":["key"]},"version":0.1},"example-plugin":{"priority":0,"version":0.1,"metadata_schema":{"required":["ikey","skey"],"type":"object","properties":{"ikey":{"minimum":0,"type":"number"},"skey":{"type":"string"}}},"schema":{"required":["i"],"type":"object","properties":{"t":{"minItems":1,"type":"array"},"ip":{"type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"i":{"minimum":0,"type":"number"},"port":{"type":"integer"},"s":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"}},"tencent-cloud-cls":{"priority":397,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"required":["cls_host","cls_topic","secret_id","secret_key"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"secret_id":{"type":"string"},"secret_key":{"type":"string"},"cls_host":{"type":"string"},"cls_topic":{"type":"string"},"include_req_body":{"default":false,"type":"boolean"},"sample_ratio":{"maximum":1,"type":"number","default":1,"minimum":1e-05},"global_tag":{"type":"object"},"include_resp_body":{"default":false,"type":"boolean"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"log_format":{"type":"object"},"name":{"default":"tencent-cloud-cls","type":"string"}},"encrypt_fields":["secret_key"]}},"syslog":{"priority":401,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"required":["host","port"],"type":"object","properties":{"log_format":{"type":"object"},"pool_size":{"type":"integer","default":5,"minimum":5},"tls":{"default":false,"type":"boolean"},"port":{"type":"integer"},"name":{"default":"sys logger","type":"string"},"drop_limit":{"default":1048576,"type":"integer"},"sock_type":{"type":"string","default":"tcp","enum":["tcp","udp"]},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"timeout":{"type":"integer","default":3000,"minimum":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"include_req_body":{"default":false,"type":"boolean"},"flush_limit":{"type":"integer","default":4096,"minimum":1},"host":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"}},"openfunction":{"priority":-1902,"schema":{"required":["function_uri"],"type":"object","properties":{"keepalive_pool":{"type":"integer","default":5,"minimum":1},"function_uri":{"type":"string"},"keepalive":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"authorization":{"service_token":{"type":"string"}},"timeout":{"type":"integer","default":3000,"minimum":100},"ssl_verify":{"default":true,"type":"boolean"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"real-ip":{"priority":23000,"schema":{"required":["source"],"type":"object","properties":{"source":{"minLength":1,"type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"recursive":{"default":false,"type":"boolean"},"trusted_addresses":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]}}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"body-transformer":{"priority":1080,"version":0.1,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"request":{"required":["template"],"type":"object","properties":{"input_format":{"enum":["xml","json"],"type":"string"},"template":{"type":"string"}}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"response":{"required":["template"],"type":"object","properties":{"input_format":{"enum":["xml","json"],"type":"string"},"template":{"type":"string"}}}},"anyOf":[{"required":["request"]},{"required":["response"]},{"required":["request","response"]}]}},"request-validation":{"priority":2800,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"rejected_msg":{"maxLength":256,"type":"string","minLength":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"header_schema":{"type":"object"},"body_schema":{"type":"object"},"rejected_code":{"maximum":599,"type":"integer","default":400,"minimum":200}},"anyOf":[{"required":["header_schema"]},{"required":["body_schema"]}]},"version":0.1,"type":"validation"},"batch-requests":{"priority":4010,"metadata_schema":{"properties":{"max_body_size":{"exclusiveMinimum":0,"type":"integer","default":1048576,"description":"max pipeline body size in bytes"}},"type":"object"},"version":0.1,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"scope":"global"},"loggly":{"priority":411,"version":0.1,"metadata_schema":{"properties":{"protocol":{"type":"string","default":"syslog","enum":["syslog","http","https"]},"log_format":{"type":"object"},"port":{"default":514,"type":"integer"},"timeout":{"type":"integer","default":5000,"minimum":1},"host":{"default":"logs-01.loggly.com","type":"string"}},"type":"object"},"schema":{"required":["customer_token"],"type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"severity":{"description":"base severity log level","type":"string","default":"INFO","enum":["NOTICE","notice","INFO","info","DEBUG","debug","ERR","err","ALERT","alert","CRIT","crit","EMEGR","emegr","WARNING","warning"]},"log_format":{"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"severity_map":{"additionalProperties":false,"description":"upstream response code vs syslog severity mapping","patternProperties":{"^[1-5][0-9]{2}$":{"type":"string","enum":["NOTICE","notice","INFO","info","DEBUG","debug","ERR","err","ALERT","alert","CRIT","crit","EMEGR","emegr","WARNING","warning"],"description":"keys are HTTP status code, values are severity"}},"type":"object"},"tags":{"minItems":1,"type":"array","items":{"pattern":"^(?!tag=)[ -~]*","type":"string"},"default":["apisix"]},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"ssl_verify":{"default":true,"type":"boolean"},"include_resp_body":{"default":false,"type":"boolean"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"customer_token":{"type":"string"},"include_resp_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"name":{"default":"loggly","type":"string"}},"$comment":"this is a mark for our injected plugin schema"}},"ua-restriction":{"priority":2999,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"message":{"maxLength":1024,"type":"string","default":"Not allowed","minLength":1},"bypass_missing":{"default":false,"type":"boolean"},"allowlist":{"minItems":1,"type":"array","items":{"minLength":1,"type":"string"}},"denylist":{"minItems":1,"type":"array","items":{"minLength":1,"type":"string"}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"node-status":{"priority":1000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1,"scope":"global"},"zipkin":{"priority":12011,"version":0.1,"schema":{"required":["endpoint","sample_ratio"],"type":"object","properties":{"span_version":{"default":2,"enum":[1,2]},"server_addr":{"pattern":"^[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}$","description":"default is $server_addr, you can specify your external ip address","type":"string"},"endpoint":{"type":"string"},"service_name":{"description":"service name for zipkin reporter","default":"APISIX","type":"string"},"sample_ratio":{"maximum":1,"type":"number","minimum":1e-05},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"$comment":"this is a mark for our injected plugin schema"}},"grpc-transcode":{"priority":506,"version":0.1,"schema":{"required":["proto_id","service","method"],"additionalProperties":true,"type":"object","properties":{"show_status_in_body":{"type":"boolean","default":false,"description":"show decoded grpc-status-details-bin in response body"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"status_detail_type":{"type":"string","description":"the message type of the grpc-status-details-bin's details part, if not given, the details part will not be decoded"},"proto_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"pb_option":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"string","enum":["int64_as_number","int64_as_string","int64_as_hexstring"],"description":"enum as result"},{"type":"string","enum":["enum_as_name","enum_as_value"],"description":"int64 as result"},{"type":"string","enum":["auto_default_values","no_default_values","use_default_values","use_default_metatable"],"description":"default values option"},{"type":"string","enum":["enable_hooks","disable_hooks"],"description":"hooks option"}],"type":"string"},"default":["enum_as_name","int64_as_number","auto_default_values","disable_hooks"]},"deadline":{"type":"number","default":0,"description":"deadline for grpc, millisecond"},"method":{"type":"string","description":"the method name in the grpc service."},"service":{"type":"string","description":"the grpc service name"}},"$comment":"this is a mark for our injected plugin schema"}},"limit-req":{"priority":1001,"schema":{"required":["rate","burst","key"],"type":"object","properties":{"allow_degradation":{"default":false,"type":"boolean"},"rejected_code":{"maximum":599,"type":"integer","default":503,"minimum":200},"burst":{"minimum":0,"type":"number"},"key_type":{"enum":["var","var_combination"],"default":"var","type":"string"},"nodelay":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"rate":{"exclusiveMinimum":0,"type":"number"},"key":{"type":"string"},"rejected_msg":{"minLength":1,"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"basic-auth":{"priority":2520,"consumer_schema":{"required":["username","password"],"type":"object","encrypt_fields":["password"],"properties":{"username":{"type":"string"},"password":{"type":"string"}},"title":"work with consumer object"},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"hide_credentials":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"title":"work with route or service object"},"type":"auth","version":0.1},"azure-functions":{"priority":-1900,"schema":{"required":["function_uri"],"type":"object","properties":{"keepalive_pool":{"type":"integer","default":5,"minimum":1},"function_uri":{"type":"string"},"keepalive":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"authorization":{"properties":{"clientid":{"type":"string"},"apikey":{"type":"string"}},"type":"object"},"timeout":{"type":"integer","default":3000,"minimum":100},"ssl_verify":{"default":true,"type":"boolean"}},"$comment":"this is a mark for our injected plugin schema"},"metadata_schema":{"properties":{"master_apikey":{"default":"","type":"string"},"master_clientid":{"default":"","type":"string"}},"type":"object"},"version":0.1},"response-rewrite":{"priority":899,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"headers":{"anyOf":[{"type":"object","patternProperties":{"^[^:]+$":{"oneOf":[{"type":"string"},{"type":"number"}]}},"minProperties":1},{"properties":{"add":{"minItems":1,"type":"array","items":{"pattern":"^[^:]+:[^:]+[^/]$","type":"string"}},"remove":{"minItems":1,"type":"array","items":{"pattern":"^[^:]+$","type":"string"}},"set":{"type":"object","patternProperties":{"^[^:]+$":{"oneOf":[{"type":"string"},{"type":"number"}]}},"minProperties":1}}}],"description":"new headers for response"},"status_code":{"maximum":598,"type":"integer","description":"new status code for response","minimum":200},"vars":{"type":"array"},"body":{"type":"string","description":"new body for response"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"filters":{"minItems":1,"type":"array","items":{"required":["regex","replace"],"type":"object","properties":{"regex":{"type":"string","description":"match pattern on response body","minLength":1},"options":{"type":"string","default":"jo","description":"regex options"},"replace":{"type":"string","description":"regex substitution content"},"scope":{"enum":["once","global"],"type":"string","default":"once","description":"regex substitution range"}},"description":"filter that modifies response body"},"description":"a group of filters that modify response bodyby replacing one specified string by another"},"body_base64":{"type":"boolean","default":false,"description":"whether new body for response need base64 decode before return"}},"dependencies":{"body":{"not":{"required":["filters"]}},"filters":{"not":{"required":["body"]}}}},"version":0.1},"traffic-split":{"priority":966,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"rules":{"items":{"properties":{"match":{"items":{"properties":{"vars":{"type":"array"}},"type":"object"},"type":"array"},"weighted_upstreams":{"items":{"properties":{"upstream_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"weight":{"description":"used to split traffic between differentupstreams for plugin configuration","type":"integer","default":1,"minimum":0},"upstream":{"type":"object","properties":{"hash_on":{"type":"string","default":"vars","enum":["vars","header","cookie","consumer","vars_combinations"]},"id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"checks":{"type":"object","properties":{"active":{"properties":{"timeout":{"default":1,"type":"number"},"http_path":{"default":"/","type":"string"},"https_verify_certificate":{"default":true,"type":"boolean"},"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,302]},"interval":{"type":"integer","default":1,"minimum":1},"successes":{"maximum":254,"type":"integer","default":2,"minimum":1}},"type":"object"},"req_headers":{"minItems":1,"type":"array","items":{"uniqueItems":true,"type":"string"}},"concurrency":{"default":10,"type":"integer"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"},"port":{"maximum":65535,"type":"integer","minimum":1},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,404,500,501,502,503,504,505]},"interval":{"type":"integer","default":1,"minimum":1},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":1},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":1},"timeouts":{"maximum":254,"type":"integer","default":3,"minimum":1}},"type":"object"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"type":"object"},"passive":{"properties":{"healthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308]},"successes":{"maximum":254,"type":"integer","default":5,"minimum":0}},"type":"object"},"unhealthy":{"properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[429,500,503]},"timeouts":{"maximum":254,"type":"integer","default":7,"minimum":0},"http_failures":{"maximum":254,"type":"integer","default":5,"minimum":0},"tcp_failures":{"maximum":254,"type":"integer","default":2,"minimum":0}},"type":"object"},"type":{"enum":["http","https","tcp"],"default":"http","type":"string"}},"type":"object"}},"anyOf":[{"required":["active"]},{"required":["active","passive"]}]},"upstream_host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"},"tls":{"type":"object","properties":{"client_cert_id":{"anyOf":[{"maxLength":64,"type":"string","pattern":"^[a-zA-Z0-9-_.]+$","minLength":1},{"minimum":1,"type":"integer"}]},"client_cert":{"maxLength":65536,"type":"string","minLength":128},"client_key":{"maxLength":65536,"type":"string","minLength":128},"verify":{"description":"Turn on server certificate verification, currently only kafka upstream is supported","default":false,"type":"boolean"}},"dependencies":{"client_cert_id":{"not":{"required":["client_client","client_key"]}},"client_cert":{"required":["client_key"],"not":{"required":["client_cert_id"]}},"client_key":{"required":["client_cert"],"not":{"required":["client_cert_id"]}}}},"discovery_type":{"type":"string","description":"discovery type"},"discovery_args":{"properties":{"namespace_id":{"type":"string","description":"namespace id"},"group_name":{"type":"string","description":"group name"}},"type":"object"},"keepalive_pool":{"properties":{"size":{"type":"integer","default":320,"minimum":1},"idle_timeout":{"type":"number","default":60,"minimum":0},"requests":{"type":"integer","default":1000,"minimum":1}},"type":"object"},"name":{"maxLength":100,"type":"string","minLength":1},"desc":{"maxLength":256,"type":"string"},"type":{"type":"string","default":"roundrobin","description":"algorithms of load balancing"},"key":{"type":"string","description":"the key of chash for dynamic load balancing"},"timeout":{"required":["connect","send","read"],"type":"object","properties":{"send":{"exclusiveMinimum":0,"type":"number"},"read":{"exclusiveMinimum":0,"type":"number"},"connect":{"exclusiveMinimum":0,"type":"number"}}},"pass_host":{"enum":["pass","node","rewrite"],"type":"string","default":"pass","description":"mod of host passing"},"create_time":{"type":"integer"},"retries":{"minimum":0,"type":"integer"},"labels":{"type":"object","patternProperties":{".*":{"pattern":"^\\S+$","maxLength":64,"type":"string","description":"value of label","minLength":1}},"description":"key/value pairs to specify attributes"},"retry_timeout":{"minimum":0,"type":"number"},"service_name":{"maxLength":256,"type":"string","minLength":1},"scheme":{"enum":["grpc","grpcs","http","https","tcp","tls","udp","kafka"],"default":"http","description":"The scheme of the upstream. For L7 proxy, it can be one of grpc/grpcs/http/https. For L4 proxy, it can be one of tcp/tls/udp. For specific protocols, it can be kafka."},"nodes":{"anyOf":[{"patternProperties":{".*":{"type":"integer","description":"weight of node","minimum":0}},"type":"object"},{"items":{"required":["host","port","weight"],"type":"object","properties":{"priority":{"type":"integer","default":0,"description":"priority of node"},"weight":{"type":"integer","description":"weight of node","minimum":0},"port":{"type":"integer","description":"port of node","minimum":1},"metadata":{"type":"object","description":"metadata of node"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"type":"array"}]},"update_time":{"type":"integer"}},"oneOf":[{"required":["nodes"]},{"required":["service_name","discovery_type"]}]}},"type":"object"},"minItems":1,"type":"array","default":[{"weight":1}],"maxItems":20}},"type":"object"},"type":"array"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"proxy-control":{"priority":21990,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"request_buffering":{"default":true,"type":"boolean"}}},"version":0.1},"ext-plugin-post-resp":{"priority":-4000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"allow_degradation":{"default":false,"type":"boolean"},"conf":{"minItems":1,"type":"array","items":{"required":["name","value"],"type":"object","properties":{"value":{"type":"string"},"name":{"maxLength":128,"type":"string","minLength":1}}}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"proxy-rewrite":{"priority":1008,"schema":{"$comment":"this is a mark for our injected plugin schema","minProperties":1,"type":"object","properties":{"headers":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"add":{"type":"object","patternProperties":{"^[^:]+$":{"oneOf":[{"type":"string"},{"type":"number"}]}},"minProperties":1},"remove":{"minItems":1,"type":"array","items":{"pattern":"^[^:]+$","type":"string"}},"set":{"type":"object","patternProperties":{"^[^:]+$":{"oneOf":[{"type":"string"},{"type":"number"}]}},"minProperties":1}},"minProperties":1},{"type":"object","patternProperties":{"^[^:]+$":{"oneOf":[{"type":"string"},{"type":"number"}]}},"minProperties":1}],"description":"new headers for request"},"regex_uri":{"items":{"type":"string","description":"regex uri"},"maxItems":2,"type":"array","description":"new uri that substitute from client uri for upstream, lower priority than uri property","minItems":2},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"use_real_request_uri_unsafe":{"type":"boolean","default":false,"description":"use real_request_uri instead, THIS IS VERY UNSAFE."},"uri":{"maxLength":4096,"pattern":"^\\/.*","type":"string","description":"new uri for upstream","minLength":1},"method":{"type":"string","enum":["UNLOCK","PATCH","TRACE","GET","HEAD","POST","PUT","DELETE","MKCOL","COPY","MOVE","OPTIONS","PROPFIND","LOCK"],"description":"proxy route method"},"host":{"pattern":"^[0-9a-zA-Z-.]+(:\\d{1,5})?$","type":"string","description":"new host for upstream"}}},"version":0.1},"limit-conn":{"priority":1003,"schema":{"required":["conn","burst","default_conn_delay","key"],"type":"object","properties":{"key":{"type":"string"},"rejected_code":{"maximum":599,"type":"integer","default":503,"minimum":200},"burst":{"minimum":0,"type":"integer"},"key_type":{"enum":["var","var_combination"],"default":"var","type":"string"},"allow_degradation":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"default_conn_delay":{"exclusiveMinimum":0,"type":"number"},"only_use_default_delay":{"default":false,"type":"boolean"},"conn":{"exclusiveMinimum":0,"type":"integer"},"rejected_msg":{"minLength":1,"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"workflow":{"priority":1006,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"rules":{"items":{"required":["case","actions"],"type":"object","properties":{"actions":{"items":{"minItems":1,"type":"array"},"type":"array"},"case":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"array"},{"type":"string"}]}}}},"type":"array"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"kafka-logger":{"priority":403,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"log_format":{"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"include_req_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"broker_list":{"type":"object","patternProperties":{".*":{"maximum":65535,"type":"integer","description":"the port of kafka broker","minimum":1}},"minProperties":1},"name":{"default":"kafka logger","type":"string"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"buffer_duration":{"type":"integer","default":60,"minimum":1},"meta_format":{"type":"string","default":"default","enum":["default","origin"]},"brokers":{"minItems":1,"type":"array","items":{"required":["host","port"],"type":"object","properties":{"sasl_config":{"required":["user","password"],"description":"sasl config","properties":{"user":{"description":"user","type":"string"},"password":{"description":"password","type":"string"},"mechanism":{"type":"string","default":"PLAIN","enum":["PLAIN"]}},"type":"object"},"port":{"maximum":65535,"type":"integer","description":"the port of kafka broker","minimum":1},"host":{"description":"the host of kafka broker","type":"string"}}},"uniqueItems":true},"retry_delay":{"type":"integer","default":1,"minimum":0},"max_retry_count":{"type":"integer","default":0,"minimum":0},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"kafka_topic":{"type":"string"},"producer_type":{"type":"string","default":"async","enum":["async","sync"]},"key":{"type":"string"},"required_acks":{"type":"integer","default":1,"enum":[0,1,-1]},"cluster_name":{"type":"integer","default":1,"minimum":1},"producer_batch_num":{"type":"integer","default":200,"minimum":1},"producer_batch_size":{"type":"integer","default":1048576,"minimum":0},"producer_max_buffering":{"type":"integer","default":50000,"minimum":1},"producer_time_linger":{"type":"integer","default":1,"minimum":1},"meta_refresh_interval":{"type":"integer","default":30,"minimum":1},"timeout":{"type":"integer","default":3,"minimum":1},"include_resp_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"include_resp_body":{"default":false,"type":"boolean"}},"oneOf":[{"required":["broker_list","kafka_topic"]},{"required":["brokers","kafka_topic"]}]}},"openwhisk":{"priority":-1901,"schema":{"required":["api_host","service_token","namespace","action"],"type":"object","properties":{"result":{"default":true,"type":"boolean"},"service_token":{"type":"string"},"timeout":{"minimum":1,"maximum":60000,"type":"integer","default":3000,"description":"timeout in milliseconds"},"ssl_verify":{"default":true,"type":"boolean"},"action":{"maxLength":256,"type":"string","pattern":"\\A([\\w]|[\\w][\\w@ .-]*[\\w@.-]+)\\z"},"keepalive_pool":{"type":"integer","default":5,"minimum":1},"keepalive":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"package":{"maxLength":256,"type":"string","pattern":"\\A([\\w]|[\\w][\\w@ .-]*[\\w@.-]+)\\z"},"namespace":{"maxLength":256,"type":"string","pattern":"\\A([\\w]|[\\w][\\w@ .-]*[\\w@.-]+)\\z"},"api_host":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"cors":{"priority":4000,"version":0.1,"metadata_schema":{"properties":{"allow_origins":{"additionalProperties":{"pattern":"^(\\*|\\*\\*|null|\\w+://[^,]+(,\\w+://[^,]+)*)$","type":"string"},"type":"object"}},"type":"object"},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"max_age":{"type":"integer","default":5,"description":"maximum number of seconds the results can be cached.-1 means no cached, the max value is depend on browser,more details plz check MDN. default: 5."},"allow_headers":{"type":"string","default":"*","description":"you can use '*' to allow all header when no credentials,'**' to allow forcefully(it will bring some security risks, be carefully),multiple header use ',' to split. default: *."},"expose_headers":{"type":"string","default":"*","description":"you can use '*' to expose all header when no credentials,'**' to allow forcefully(it will bring some security risks, be carefully),multiple header use ',' to split. default: *."},"allow_credential":{"type":"boolean","default":false,"description":"allow client append credential. according to CORS specification,if you set this option to 'true', you can not use '*' for other options."},"allow_origins":{"pattern":"^(\\*|\\*\\*|null|\\w+://[^,]+(,\\w+://[^,]+)*)$","type":"string","default":"*","description":"you can use '*' to allow all origins when no credentials,'**' to allow forcefully(it will bring some security risks, be carefully),multiple origin use ',' to split. default: *."},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"allow_origins_by_regex":{"uniqueItems":true,"items":{"maxLength":4096,"type":"string","minLength":1},"minItems":1,"description":"you can use regex to allow specific origins when no credentials,for example use [.*\\.test.com] to allow a.test.com and b.test.com","type":"array"},"allow_methods":{"type":"string","default":"*","description":"you can use '*' to allow all methods when no credentials,'**' to allow forcefully(it will bring some security risks, be carefully),multiple method use ',' to split. default: *."},"allow_origins_by_metadata":{"uniqueItems":true,"items":{"maxLength":4096,"type":"string","minLength":1},"minItems":1,"description":"set allowed origins by referencing origins in plugin metadata","type":"array"}}}},"proxy-mirror":{"priority":1010,"schema":{"required":["host"],"type":"object","properties":{"path_concat_mode":{"description":"the concatenation mode for custom path","type":"string","default":"replace","enum":["replace","prefix"]},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"path":{"pattern":"^/[^?&]+$","type":"string"},"sample_ratio":{"maximum":1,"type":"number","default":1,"minimum":1e-05},"host":{"pattern":"^http(s)?:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?$","type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"skywalking-logger":{"priority":408,"schema":{"required":["endpoint_addr"],"type":"object","properties":{"endpoint_addr":{"pattern":"^[^\\/]+:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?","type":"string"},"log_format":{"type":"object"},"service_instance_name":{"default":"APISIX Instance Name","type":"string"},"timeout":{"type":"integer","default":3,"minimum":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"service_name":{"default":"APISIX","type":"string"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"buffer_duration":{"type":"integer","default":60,"minimum":1},"name":{"default":"skywalking logger","type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"version":0.1},"google-cloud-logging":{"priority":407,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","encrypt_fields":["auth_config.private_key"],"properties":{"log_format":{"type":"object"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"auth_config":{"required":["private_key","project_id","token_uri"],"type":"object","properties":{"private_key":{"type":"string"},"project_id":{"type":"string"},"token_uri":{"default":"https://oauth2.googleapis.com/token","type":"string"},"scopes":{"uniqueItems":true,"items":{"type":"string","description":"Google OAuth2 Authorization Scopes"},"minItems":1,"type":"array","default":["https://www.googleapis.com/auth/logging.read","https://www.googleapis.com/auth/logging.write","https://www.googleapis.com/auth/logging.admin","https://www.googleapis.com/auth/cloud-platform"]},"entries_uri":{"default":"https://logging.googleapis.com/v2/entries:write","type":"string"}}},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"ssl_verify":{"default":true,"type":"boolean"},"buffer_duration":{"type":"integer","default":60,"minimum":1},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"auth_file":{"type":"string"},"log_id":{"default":"apisix.apache.org%2Flogs","type":"string"},"resource":{"required":["type"],"type":"object","properties":{"labels":{"type":"object"},"type":{"type":"string"}},"default":{"type":"global"}},"name":{"default":"google-cloud-logging","type":"string"}},"oneOf":[{"required":["auth_config"]},{"required":["auth_file"]}]},"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"version":0.1},"cas-auth":{"priority":2597,"schema":{"required":["idp_uri","cas_callback_uri","logout_uri"],"type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"idp_uri":{"type":"string"},"cas_callback_uri":{"type":"string"},"logout_uri":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"aws-lambda":{"priority":-1899,"schema":{"required":["function_uri"],"type":"object","properties":{"keepalive_pool":{"type":"integer","default":5,"minimum":1},"function_uri":{"type":"string"},"keepalive":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"authorization":{"properties":{"iam":{"required":["accesskey","secretkey"],"type":"object","properties":{"service":{"type":"string","default":"execute-api","description":"the service that is receiving the request"},"secretkey":{"description":"secret access key from from aws iam console","type":"string"},"aws_region":{"type":"string","default":"us-east-1","description":"the aws region that is receiving the request"},"accesskey":{"description":"access key id from from aws iam console","type":"string"}}},"apikey":{"type":"string"}},"type":"object"},"timeout":{"type":"integer","default":3000,"minimum":100},"ssl_verify":{"default":true,"type":"boolean"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"prometheus":{"priority":500,"version":0.2,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"prefer_name":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}}},"openid-connect":{"priority":2599,"schema":{"required":["client_id","client_secret","discovery"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"set_access_token_header":{"type":"boolean","default":true,"description":"Whether the access token should be added as a header to the request for downstream"},"session":{"required":["secret"],"type":"object","properties":{"secret":{"description":"the key used for the encrypt and HMAC calculation","type":"string","minLength":16}},"additionalProperties":false},"access_token_in_authorization_header":{"type":"boolean","default":false,"description":"Whether the access token should be added in the Authorization header as opposed to the X-Access-Token header."},"set_id_token_header":{"type":"boolean","default":true,"description":"Whether the ID token should be added in the X-ID-Token header to the request for downstream."},"ssl_verify":{"default":false,"type":"boolean"},"set_userinfo_header":{"type":"boolean","default":true,"description":"Whether the user info token should be added in the X-Userinfo header to the request for downstream."},"set_refresh_token_header":{"type":"boolean","default":false,"description":"Whether the refresh token should be added in the X-Refresh-Token header to the request for downstream."},"introspection_endpoint":{"type":"string"},"introspection_endpoint_auth_method":{"default":"client_secret_basic","type":"string"},"client_secret":{"type":"string"},"bearer_only":{"default":false,"type":"boolean"},"realm":{"default":"apisix","type":"string"},"client_id":{"type":"string"},"discovery":{"type":"string"},"public_key":{"type":"string"},"timeout":{"description":"timeout in seconds","type":"integer","default":3,"minimum":1},"scope":{"default":"openid","type":"string"},"unauth_action":{"description":"The action performed when client is not authorized. Use auth to redirect user to identity provider, deny to respond with 401 Unauthorized, and pass to allow the request regardless.","type":"string","default":"auth","enum":["auth","deny","pass"]},"redirect_uri":{"description":"use ngx.var.request_uri if not configured","type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"logout_path":{"default":"/logout","type":"string"},"token_signing_alg_values_expected":{"type":"string"},"use_pkce":{"type":"boolean","default":false,"description":"when set to true the PKEC(Proof Key for Code Exchange) will be used."},"post_logout_redirect_uri":{"description":"the URI will be redirect when request logout_path","type":"string"}},"encrypt_fields":["client_secret"]},"version":0.2},"file-logger":{"priority":399,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"required":["path"],"type":"object","properties":{"include_resp_body":{"default":false,"type":"boolean"},"log_format":{"type":"object"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"include_resp_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"path":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"}},"fs-sign":{"priority":50,"consumer_schema":{"required":["access_key","secret_key"],"type":"object","properties":{"expire":{"minimum":1,"maximum":86400,"type":"integer","default":60,"title":"The expire second of the access key"},"algorithm":{"enum":["md5","sha1","sha256"],"default":"sha1","type":"string"},"secret_key":{"maxLength":256,"type":"string","minLength":1},"access_key":{"maxLength":256,"type":"string","minLength":1}},"title":"work with consumer object"},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"white_list":{"items":{"maxLength":256,"type":"string","minLength":1},"type":"array"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"app_id_key":{"default":"k","type":"string"},"nonce_key":{"default":"r","type":"string"},"from_key":{"default":"f","type":"string"},"timestamp_key":{"default":"t","type":"string"},"token_key":{"type":"string","default":"Authorization","title":"The name of the token"}},"title":"work with route or service object"},"type":"auth","version":0.1},"mocking":{"priority":10900,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"content_type":{"default":"application/json;charset=utf8","type":"string"},"delay":{"default":0,"type":"integer"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"response_status":{"type":"integer","default":200,"minimum":100},"with_mock_header":{"default":true,"type":"boolean"},"response_example":{"type":"string"},"response_schema":{"type":"object"}},"anyOf":[{"required":["response_example"]},{"required":["response_schema"]}]},"version":0.1},"clickhouse-logger":{"priority":398,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","encrypt_fields":["password"],"properties":{"endpoint_addr":{"pattern":"^[^\\/]+:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?","type":"string"},"log_format":{"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"ssl_verify":{"default":true,"type":"boolean"},"password":{"default":"","type":"string"},"database":{"default":"","type":"string"},"logtable":{"default":"","type":"string"},"name":{"default":"clickhouse-logger","type":"string"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"include_resp_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"timeout":{"type":"integer","default":3,"minimum":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"include_resp_body":{"default":false,"type":"boolean"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"include_req_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"endpoint_addrs":{"minItems":1,"type":"array","items":{"pattern":"^[^\\/]+:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?","type":"string"}},"user":{"default":"","type":"string"}},"oneOf":[{"required":["endpoint_addr","user","password","database","logtable"]},{"required":["endpoint_addrs","user","password","database","logtable"]}]}},"redirect":{"priority":900,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"ret_code":{"type":"integer","default":302,"minimum":200},"regex_uri":{"items":{"type":"string","description":"regex uri"},"maxItems":2,"type":"array","description":"params for generating new uri that substitute from client uri, first param is regular expression, the second one is uri template","minItems":2},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"http_to_https":{"type":"boolean"},"uri":{"pattern":"(\\\\\\$[0-9a-zA-Z_]+)|\\$\\{([0-9a-zA-Z_]+)\\}|\\$([0-9a-zA-Z_]+)|(\\$|[^$\\\\]+)","type":"string","minLength":2},"append_query_string":{"default":false,"type":"boolean"},"encode_uri":{"default":false,"type":"boolean"}},"oneOf":[{"required":["uri"]},{"required":["regex_uri"]},{"required":["http_to_https"]}]},"version":0.1},"wolf-rbac":{"priority":2555,"version":0.1,"type":"auth","schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"appid":{"default":"unset","type":"string"},"header_prefix":{"default":"X-","type":"string"},"server":{"default":"http://127.0.0.1:12180","type":"string"}}}},"hmac-auth":{"priority":2530,"consumer_schema":{"required":["access_key","secret_key"],"type":"object","encrypt_fields":["secret_key"],"properties":{"algorithm":{"enum":["hmac-sha1","hmac-sha256","hmac-sha512"],"default":"hmac-sha256","type":"string"},"secret_key":{"maxLength":256,"type":"string","minLength":1},"encode_uri_params":{"type":"boolean","default":true,"title":"Whether to escape the uri parameter"},"validate_request_body":{"type":"boolean","default":false,"title":"A boolean value telling the plugin to enable body validation"},"max_req_body":{"type":"integer","default":524288,"title":"Max request body size"},"clock_skew":{"default":0,"type":"integer"},"keep_headers":{"type":"boolean","default":false,"title":"whether to keep the http request header"},"signed_headers":{"items":{"maxLength":50,"type":"string","minLength":1},"type":"array"},"access_key":{"maxLength":256,"type":"string","minLength":1}},"title":"work with consumer object"},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"title":"work with route or service object"},"type":"auth","version":0.1},"gzip":{"priority":995,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"vary":{"type":"boolean"},"http_version":{"default":1.1,"enum":[1.1,1]},"types":{"default":["text/html"],"anyOf":[{"minItems":1,"type":"array","items":{"minLength":1,"type":"string"}},{"enum":["*"]}]},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"buffers":{"type":"object","properties":{"number":{"type":"integer","default":32,"minimum":1},"size":{"type":"integer","default":4096,"minimum":1}},"default":{"number":32,"size":4096}},"min_length":{"type":"integer","default":20,"minimum":1},"comp_level":{"maximum":9,"type":"integer","default":1,"minimum":1}}},"version":0.1},"limit-count":{"priority":1002,"schema":{"required":["count","time_window"],"if":{"properties":{"policy":{"enum":["redis"]}}},"else":{"then":{"properties":{"redis_cluster_nodes":{"minItems":2,"type":"array","items":{"maxLength":100,"type":"string","minLength":2}},"redis_cluster_name":{"type":"string"},"redis_cluster_ssl":{"default":false,"type":"boolean"},"redis_cluster_ssl_verify":{"default":false,"type":"boolean"},"redis_password":{"minLength":0,"type":"string"},"redis_timeout":{"type":"integer","default":1000,"minimum":1}},"required":["redis_cluster_nodes","redis_cluster_name"]},"if":{"properties":{"policy":{"enum":["redis-cluster"]}}}},"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"count":{"exclusiveMinimum":0,"type":"integer"},"key":{"default":"remote_addr","type":"string"},"show_limit_quota_header":{"default":true,"type":"boolean"},"rejected_code":{"maximum":599,"type":"integer","default":503,"minimum":200},"rejected_msg":{"minLength":1,"type":"string"},"group":{"type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"allow_degradation":{"default":false,"type":"boolean"},"time_window":{"exclusiveMinimum":0,"type":"integer"},"policy":{"enum":["local","redis","redis-cluster"],"default":"local","type":"string"},"key_type":{"enum":["var","var_combination","constant"],"default":"var","type":"string"}},"then":{"properties":{"redis_host":{"minLength":2,"type":"string"},"redis_port":{"type":"integer","default":6379,"minimum":1},"redis_password":{"minLength":0,"type":"string"},"redis_database":{"type":"integer","default":0,"minimum":0},"redis_timeout":{"type":"integer","default":1000,"minimum":1}},"required":["redis_host"]}},"version":0.4},"grpc-web":{"priority":505,"version":0.1,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}}},"udp-logger":{"priority":400,"schema":{"required":["host","port"],"type":"object","properties":{"log_format":{"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"timeout":{"type":"integer","default":3,"minimum":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"name":{"default":"udp logger","type":"string"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"port":{"minimum":0,"type":"integer"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"host":{"type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"version":0.1},"uri-blocker":{"priority":2900,"schema":{"required":["block_rules"],"type":"object","properties":{"rejected_msg":{"minLength":1,"type":"string"},"block_rules":{"type":"array","items":{"maxLength":4096,"type":"string","minLength":1},"uniqueItems":true},"case_insensitive":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"rejected_code":{"type":"integer","default":403,"minimum":200}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"api-breaker":{"priority":1005,"schema":{"required":["break_response_code"],"type":"object","properties":{"max_breaker_sec":{"type":"integer","default":300,"minimum":3},"healthy":{"type":"object","properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":499,"type":"integer","minimum":200},"minItems":1,"type":"array","default":[200]},"successes":{"type":"integer","default":3,"minimum":1}},"default":{"http_statuses":[200],"successes":3}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"break_response_code":{"maximum":599,"type":"integer","minimum":200},"break_response_body":{"type":"string"},"unhealthy":{"type":"object","properties":{"http_statuses":{"uniqueItems":true,"items":{"maximum":599,"type":"integer","minimum":500},"minItems":1,"type":"array","default":[500]},"failures":{"type":"integer","default":3,"minimum":1}},"default":{"http_statuses":[500],"failures":3}},"break_response_headers":{"items":{"required":["key","value"],"type":"object","properties":{"value":{"minLength":1,"type":"string"},"key":{"minLength":1,"type":"string"}}},"type":"array"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"error-log-logger":{"priority":1091,"metadata_schema":{"encrypt_fields":["clickhouse.password"],"type":"object","properties":{"clickhouse":{"required":["endpoint_addr","user","password","database","logtable"],"type":"object","properties":{"endpoint_addr":{"1":{"pattern":"^[^\\/]+:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?","type":"string"},"default":"http://127.0.0.1:8123"},"user":{"default":"default","type":"string"},"password":{"default":"","type":"string"},"database":{"default":"","type":"string"},"logtable":{"default":"","type":"string"}}},"inactive_timeout":{"type":"integer","default":3,"minimum":1},"level":{"type":"string","default":"WARN","enum":["STDERR","EMERG","ALERT","CRIT","ERR","ERROR","WARN","NOTICE","INFO","DEBUG"]},"timeout":{"type":"integer","default":3,"minimum":1},"buffer_duration":{"type":"integer","default":60,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"batch_max_size":{"type":"integer","default":1000,"minimum":0},"keepalive":{"type":"integer","default":30,"minimum":1},"retry_delay":{"type":"integer","default":1,"minimum":0},"tcp":{"required":["host","port"],"type":"object","properties":{"tls_server_name":{"type":"string"},"port":{"minimum":0,"type":"integer"},"tls":{"default":false,"type":"boolean"},"host":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"kafka":{"required":["brokers","kafka_topic"],"type":"object","properties":{"meta_refresh_interval":{"type":"integer","default":30,"minimum":1},"cluster_name":{"type":"integer","default":1,"minimum":1},"kafka_topic":{"type":"string"},"producer_type":{"type":"string","default":"async","enum":["async","sync"]},"key":{"type":"string"},"required_acks":{"type":"integer","default":1,"enum":[0,1,-1]},"brokers":{"minItems":1,"type":"array","items":{"required":["host","port"],"type":"object","properties":{"sasl_config":{"required":["user","password"],"description":"sasl config","properties":{"user":{"description":"user","type":"string"},"password":{"description":"password","type":"string"},"mechanism":{"type":"string","default":"PLAIN","enum":["PLAIN"]}},"type":"object"},"port":{"maximum":65535,"type":"integer","description":"the port of kafka broker","minimum":1},"host":{"description":"the host of kafka broker","type":"string"}}},"uniqueItems":true}}},"skywalking":{"properties":{"endpoint_addr":{"default":"http://127.0.0.1:12900/v3/logs"},"service_instance_name":{"default":"APISIX Service Instance","type":"string"},"service_name":{"default":"APISIX","type":"string"}},"type":"object"},"name":{"default":"error-log-logger","type":"string"}},"oneOf":[{"required":["skywalking"]},{"required":["tcp"]},{"required":["clickhouse"]},{"required":["kafka"]},{"required":["host","port"]}]},"version":0.1,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"scope":"global"},"ldap-auth":{"priority":2540,"consumer_schema":{"required":["user_dn"],"type":"object","properties":{"user_dn":{"type":"string"}},"title":"work with consumer object"},"schema":{"required":["base_dn","ldap_uri"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"use_tls":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"tls_verify":{"default":false,"type":"boolean"},"base_dn":{"type":"string"},"ldap_uri":{"type":"string"},"uid":{"default":"cn","type":"string"}},"title":"work with route or service object"},"type":"auth","version":0.1},"jwt-auth":{"priority":2510,"consumer_schema":{"required":["key"],"dependencies":{"algorithm":{"oneOf":[{"properties":{"algorithm":{"default":"HS256","enum":["HS256","HS512"]}}},{"properties":{"private_key":{"type":"string"},"public_key":{"type":"string"},"algorithm":{"enum":["RS256","ES256"]}},"required":["public_key","private_key"]}]}},"encrypt_fields":["secret","private_key"],"properties":{"algorithm":{"enum":["HS256","HS512","RS256","ES256"],"default":"HS256","type":"string"},"lifetime_grace_period":{"type":"integer","default":0,"minimum":0},"base64_secret":{"default":false,"type":"boolean"},"secret":{"type":"string"},"exp":{"type":"integer","default":86400,"minimum":1},"key":{"type":"string"}},"type":"object"},"version":0.1,"type":"auth","schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"header":{"default":"authorization","type":"string"},"query":{"default":"jwt","type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"cookie":{"default":"jwt","type":"string"},"hide_credentials":{"default":false,"type":"boolean"}}}},"ai":{"priority":22900,"version":0.1,"schema":{"properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"$comment":"this is a mark for our injected plugin schema"},"scope":"global"},"serverless-post-function":{"priority":-2000,"version":0.1,"schema":{"required":["functions"],"type":"object","properties":{"phase":{"type":"string","default":"access","enum":["rewrite","access","header_filter","body_filter","log","before_proxy"]},"functions":{"minItems":1,"type":"array","items":{"type":"string"}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"$comment":"this is a mark for our injected plugin schema"}},"consumer-restriction":{"priority":2400,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"rejected_msg":{"type":"string"},"whitelist":{"minItems":1,"type":"array","items":{"type":"string"}},"blacklist":{"minItems":1,"type":"array","items":{"type":"string"}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"type":{"enum":["consumer_name","service_id","route_id","consumer_group_id"],"default":"consumer_name","type":"string"},"allowed_by_methods":{"items":{"properties":{"methods":{"minItems":1,"type":"array","items":{"type":"string","enum":["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","CONNECT","TRACE","PURGE"],"description":"HTTP method"}},"user":{"type":"string"}},"type":"object"},"type":"array"},"rejected_code":{"type":"integer","default":403,"minimum":200}},"anyOf":[{"required":["blacklist"]},{"required":["whitelist"]},{"required":["allowed_by_methods"]}]},"version":0.1},"degraphql":{"priority":509,"schema":{"required":["query"],"type":"object","properties":{"query":{"maxLength":1024,"type":"string","minLength":1},"variables":{"minItems":1,"type":"array","items":{"type":"string"}},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"operation_name":{"maxLength":1024,"type":"string","minLength":1}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"http-logger":{"priority":410,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"required":["uri"],"type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"include_resp_body":{"default":false,"type":"boolean"},"log_format":{"type":"object"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"include_resp_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"timeout":{"type":"integer","default":3,"minimum":1},"ssl_verify":{"default":false,"type":"boolean"},"auth_header":{"type":"string"},"concat_method":{"type":"string","default":"json","enum":["json","new_line"]},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"include_req_body":{"default":false,"type":"boolean"},"uri":{"pattern":"^[^\\/]+:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?","type":"string"},"name":{"default":"http logger","type":"string"}},"$comment":"this is a mark for our injected plugin schema"}},"ip-restriction":{"priority":3000,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"blacklist":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]}},"whitelist":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"string","format":"ipv4","title":"IPv4"},{"pattern":"^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$","type":"string","title":"IPv4/CIDR"},{"type":"string","format":"ipv6","title":"IPv6"},{"pattern":"^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$","type":"string","title":"IPv6/CIDR"}]}},"message":{"maxLength":1024,"type":"string","default":"Your IP address is not allowed","minLength":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"oneOf":[{"required":["whitelist"]},{"required":["blacklist"]}]},"version":0.1},"key-auth":{"priority":2500,"consumer_schema":{"required":["key"],"type":"object","properties":{"key":{"type":"string"}},"encrypt_fields":["key"]},"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"query":{"default":"apikey","type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"hide_credentials":{"default":false,"type":"boolean"},"header":{"default":"apikey","type":"string"}}},"type":"auth","version":0.1},"rocketmq-logger":{"priority":402,"version":0.1,"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"schema":{"required":["nameserver_list","topic"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"log_format":{"type":"object"},"include_req_body":{"default":false,"type":"boolean"},"include_req_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"meta_format":{"type":"string","default":"default","enum":["default","origin"]},"access_key":{"default":"","type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"name":{"default":"rocketmq logger","type":"string"},"secret_key":{"default":"","type":"string"},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"topic":{"type":"string"},"include_resp_body_expr":{"minItems":1,"type":"array","items":{"type":"array"}},"timeout":{"type":"integer","default":3,"minimum":1},"nameserver_list":{"minItems":1,"type":"array","items":{"type":"string"}},"include_resp_body":{"default":false,"type":"boolean"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"tag":{"type":"string"},"use_tls":{"default":false,"type":"boolean"},"key":{"type":"string"}},"encrypt_fields":["secret_key"]}},"authz-casbin":{"priority":2560,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"model_path":{"type":"string"},"policy_path":{"type":"string"},"model":{"type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"policy":{"type":"string"},"username":{"type":"string"}},"oneOf":[{"required":["model_path","policy_path","username"]},{"required":["model","policy","username"]}]},"metadata_schema":{"required":["model","policy"],"type":"object","properties":{"model":{"type":"string"},"policy":{"type":"string"}}},"version":0.1},"dubbo-proxy":{"priority":507,"schema":{"required":["service_name","service_version"],"type":"object","properties":{"service_name":{"minLength":1,"type":"string"},"service_version":{"pattern":"^\\d+\\.\\d+\\.\\d+","type":"string"},"method":{"minLength":1,"type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"authz-casdoor":{"priority":2559,"schema":{"required":["callback_url","endpoint_addr","client_id","client_secret"],"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"endpoint_addr":{"pattern":"^[^%?]+[^/]$","type":"string"},"client_id":{"type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"callback_url":{"pattern":"^[^%?]+[^/]$","type":"string"},"client_secret":{"type":"string"}},"encrypt_fields":["client_secret"]},"version":0.1},"echo":{"priority":412,"schema":{"$comment":"this is a mark for our injected plugin schema","minProperties":1,"type":"object","properties":{"after_body":{"type":"string","description":"body after the modification of filter phase."},"headers":{"type":"object","description":"new headers for response","minProperties":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"body":{"type":"string","description":"body to replace upstream response."},"before_body":{"type":"string","description":"body before the filter phase."}},"anyOf":[{"required":["before_body"]},{"required":["body"]},{"required":["after_body"]}]},"version":0.1},"splunk-hec-logging":{"priority":409,"schema":{"required":["endpoint"],"type":"object","properties":{"inactive_timeout":{"type":"integer","default":5,"minimum":1},"endpoint":{"required":["uri","token"],"type":"object","properties":{"uri":{"pattern":"^[^\\/]+:\\/\\/([\\da-zA-Z.-]+|\\[[\\da-fA-F:]+\\])(:\\d+)?","type":"string"},"token":{"type":"string"},"timeout":{"type":"integer","default":10,"minimum":1},"channel":{"type":"string"}}},"ssl_verify":{"default":true,"type":"boolean"},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"log_format":{"type":"object"},"name":{"default":"splunk-hec-logging","type":"string"}},"$comment":"this is a mark for our injected plugin schema"},"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"version":0.1},"forward-auth":{"priority":2002,"schema":{"required":["uri"],"type":"object","properties":{"client_headers":{"description":"authorization response header that will be sent tothe client when authorizing failed","type":"array","default":{},"items":{"type":"string"}},"uri":{"type":"string"},"timeout":{"minimum":1,"maximum":60000,"type":"integer","default":3000,"description":"timeout in milliseconds"},"ssl_verify":{"default":true,"type":"boolean"},"keepalive_pool":{"type":"integer","default":5,"minimum":1},"keepalive":{"default":true,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"keepalive_timeout":{"type":"integer","default":60000,"minimum":1000},"request_method":{"description":"the method for client to request the authorization service","type":"string","default":"GET","enum":["GET","POST"]},"upstream_headers":{"description":"authorization response header that will be sent to the upstream","type":"array","default":{},"items":{"type":"string"}},"request_headers":{"description":"client request header that will be sent to the authorization service","type":"array","default":{},"items":{"type":"string"}}},"$comment":"this is a mark for our injected plugin schema"},"version":0.1},"elasticsearch-logger":{"priority":413,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","encrypt_fields":["auth.password"],"properties":{"endpoint_addr":{"pattern":"[^/]$","type":"string"},"log_format":{"type":"object"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"auth":{"required":["username","password"],"type":"object","properties":{"username":{"minLength":1,"type":"string"},"password":{"minLength":1,"type":"string"}}},"timeout":{"type":"integer","default":10,"minimum":1},"ssl_verify":{"default":true,"type":"boolean"},"field":{"required":["index"],"type":"object","properties":{"index":{"type":"string"},"type":{"type":"string"}}},"batch_max_size":{"type":"integer","default":1000,"minimum":1},"max_retry_count":{"type":"integer","default":0,"minimum":0},"retry_delay":{"type":"integer","default":1,"minimum":0},"buffer_duration":{"type":"integer","default":60,"minimum":1},"inactive_timeout":{"type":"integer","default":5,"minimum":1},"endpoint_addrs":{"minItems":1,"type":"array","items":{"pattern":"[^/]$","type":"string"}},"name":{"default":"elasticsearch-logger","type":"string"}},"oneOf":[{"required":["endpoint_addr","field"]},{"required":["endpoint_addrs","field"]}]},"metadata_schema":{"properties":{"log_format":{"default":{"client_ip":"$remote_addr","host":"$host","@timestamp":"$time_iso8601"},"type":"object"}},"type":"object"},"version":0.1},"referer-restriction":{"priority":2990,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"whitelist":{"minItems":1,"type":"array","items":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}},"message":{"maxLength":1024,"type":"string","default":"Your referer host is not allowed","minLength":1},"bypass_missing":{"default":false,"type":"boolean"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"blacklist":{"minItems":1,"type":"array","items":{"pattern":"^\\*?[0-9a-zA-Z-._\\[\\]:]+$","type":"string"}}},"oneOf":[{"required":["whitelist"]},{"required":["blacklist"]}]},"version":0.1},"inspect":{"priority":200,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"}}},"version":0.1},"request-id":{"priority":12015,"version":0.1,"schema":{"$comment":"this is a mark for our injected plugin schema","type":"object","properties":{"include_in_response":{"default":true,"type":"boolean"},"algorithm":{"enum":["uuid","snowflake","nanoid","range_id"],"default":"uuid","type":"string"},"_meta":{"properties":{"error_response":{"oneOf":[{"type":"string"},{"type":"object"}]},"disable":{"type":"boolean"},"filter":{"type":"array","description":"filter determines whether the plugin needs to be executed at runtime"},"priority":{"type":"integer","description":"priority of plugins by customized order"}},"type":"object"},"header_name":{"default":"X-Request-Id","type":"string"},"range_id":{"properties":{"char_set":{"type":"string","default":"abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789","minLength":6},"length":{"type":"integer","default":16,"minimum":6}},"type":"object"}}}}}}
